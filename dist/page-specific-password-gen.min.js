function hexToBase64(r){return btoa(String.fromCharCode.apply(null,r.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function base64ToHex(r){for(var t=0,a=atob(r.replace(/[ \r\n]+$/,"")),n=[];t<a.length;++t){var e=a.charCodeAt(t).toString(16);1===e.length&&(e="0"+e),n[n.length]=e}return n.join(" ")}function PBKDF2(r,t,a,n){var e,s,h=rstr2binb(r),o=t,i=a,l=10,c=0,f=n,u=null,g=20,d=Math.ceil(f/g),b=1,_=new Array(16),C=new Array(16),v=[0,0,0,0,0],m="",p=this,A=!1;h.length>16&&(h=binb_sha1(h,r.length*chrsz));for(var y=0;y<16;++y)_[y]=909522486^h[y],C[y]=1549556828^h[y];this.deriveKey=function(r,t){s=r,e=t,setTimeout(function(){p.do_PBKDF2_iterations()},0)},this.do_PBKDF2_iterations=function(){if(!A){var r=l;i-c<l&&(r=i-c);for(var t=0;t<r;++t){if(0==c){var a=o+String.fromCharCode(b>>24&15)+String.fromCharCode(b>>16&15)+String.fromCharCode(b>>8&15)+String.fromCharCode(15&b);u=binb_sha1(_.concat(rstr2binb(a)),512+8*a.length),u=binb_sha1(C.concat(u),672)}else u=binb_sha1(_.concat(u),512+32*u.length),u=binb_sha1(C.concat(u),672);for(var n=0;n<u.length;++n)v[n]^=u[n];c++}if(c<i)setTimeout(function(){p.do_PBKDF2_iterations()},0);else if(b<d)null!=s&&s((b-1+c/i)/d*100),m+=rstr2hex(binb2rstr(v)),b++,v=[0,0,0,0,0],c=0,setTimeout(function(){p.do_PBKDF2_iterations()},0);else{var h=rstr2hex(binb2rstr(v));m+=h.substr(0,2*(f-(d-1)*g)),e(m)}}},this.stop=function(){A=!0}}function hex_sha1(r){return rstr2hex(rstr_sha1(str2rstr_utf8(r)))}function b64_sha1(r){return rstr2b64(rstr_sha1(str2rstr_utf8(r)))}function any_sha1(r,t){return rstr2any(rstr_sha1(str2rstr_utf8(r)),t)}function hex_hmac_sha1(r,t){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function b64_hmac_sha1(r,t){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function any_hmac_sha1(r,t,a){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)),a)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(r){return binb2rstr(binb_sha1(rstr2binb(r),8*r.length))}function rstr_hmac_sha1(r,t){var a=rstr2binb(r);a.length>16&&(a=binb_sha1(a,8*r.length));for(var n=Array(16),e=Array(16),s=0;s<16;s++)n[s]=909522486^a[s],e[s]=1549556828^a[s];var h=binb_sha1(n.concat(rstr2binb(t)),512+8*t.length);return binb2rstr(binb_sha1(e.concat(h),672))}function rstr2hex(r){try{}catch(r){hexcase=0}for(var t,a=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",e=0;e<r.length;e++)t=r.charCodeAt(e),n+=a.charAt(t>>>4&15)+a.charAt(15&t);return n}function rstr2b64(r){try{}catch(r){b64pad=""}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="",n=r.length,e=0;e<n;e+=3)for(var s=r.charCodeAt(e)<<16|(e+1<n?r.charCodeAt(e+1)<<8:0)|(e+2<n?r.charCodeAt(e+2):0),h=0;h<4;h++)a+=8*e+6*h>8*r.length?b64pad:t.charAt(s>>>6*(3-h)&63);return a}function rstr2any(r,t){var a,n,e,s,h=t.length,o=Array(),i=Array(Math.ceil(r.length/2));for(a=0;a<i.length;a++)i[a]=r.charCodeAt(2*a)<<8|r.charCodeAt(2*a+1);for(;i.length>0;){for(s=Array(),e=0,a=0;a<i.length;a++)e=(e<<16)+i[a],n=Math.floor(e/h),e-=n*h,(s.length>0||n>0)&&(s[s.length]=n);o[o.length]=e,i=s}var l="";for(a=o.length-1;a>=0;a--)l+=t.charAt(o[a]);var c=Math.ceil(8*r.length/(Math.log(t.length)/Math.log(2)));for(a=l.length;a<c;a++)l=t[0]+l;return l}function str2rstr_utf8(r){for(var t,a,n="",e=-1;++e<r.length;)t=r.charCodeAt(e),a=e+1<r.length?r.charCodeAt(e+1):0,55296<=t&&t<=56319&&56320<=a&&a<=57343&&(t=65536+((1023&t)<<10)+(1023&a),e++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function str2rstr_utf16le(r){for(var t="",a=0;a<r.length;a++)t+=String.fromCharCode(255&r.charCodeAt(a),r.charCodeAt(a)>>>8&255);return t}function str2rstr_utf16be(r){for(var t="",a=0;a<r.length;a++)t+=String.fromCharCode(r.charCodeAt(a)>>>8&255,255&r.charCodeAt(a));return t}function rstr2binb(r){for(var t=Array(r.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<8*r.length;a+=8)t[a>>5]|=(255&r.charCodeAt(a/8))<<24-a%32;return t}function binb2rstr(r){for(var t="",a=0;a<32*r.length;a+=8)t+=String.fromCharCode(r[a>>5]>>>24-a%32&255);return t}function binb_sha1(r,t){r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var a=Array(80),n=1732584193,e=-271733879,s=-1732584194,h=271733878,o=-1009589776,i=0;i<r.length;i+=16){for(var l=n,c=e,f=s,u=h,g=o,d=0;d<80;d++){d<16?a[d]=r[i+d]:a[d]=bit_rol(a[d-3]^a[d-8]^a[d-14]^a[d-16],1);var b=safe_add(safe_add(bit_rol(n,5),sha1_ft(d,e,s,h)),safe_add(safe_add(o,a[d]),sha1_kt(d)));o=h,h=s,s=bit_rol(e,30),e=n,n=b}n=safe_add(n,l),e=safe_add(e,c),s=safe_add(s,f),h=safe_add(h,u),o=safe_add(o,g)}return Array(n,e,s,h,o)}function sha1_ft(r,t,a,n){return r<20?t&a|~t&n:r<40?t^a^n:r<60?t&a|t&n|a&n:t^a^n}function sha1_kt(r){return r<20?1518500249:r<40?1859775393:r<60?-1894007588:-899497514}function safe_add(r,t){var a=(65535&r)+(65535&t),n=(r>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function bit_rol(r,t){return r<<t|r>>>32-t}var mypbkdf2=null,passwordLib=function(){"use strict";function r(r,a,h,o,i){var l=s();if("undefined"!=typeof i)for(var c in i)l[c]=i[c];if(i.verbose&&console.log("calculatePassword","url:",a,"options:",l),""==r.trim())return void o("");var f=e(a),u=n(f);i.verbose&&console.log("calculatePassword, salt:",u);var g=l.baseIterations+(u.length+r.length+1);null!=mypbkdf2&&mypbkdf2.stop(),mypbkdf2=new PBKDF2(r,u,g,128);var d=function(r){t(r,u,l,o)};mypbkdf2.deriveKey(h,d)}function t(r,t,a,n){var e=hexToBase64(r),s=0;a.smallChars&&s++,a.capitalChars&&s++,a.numbers&&s++,a.specialChars&&s++;for(var h="",o="",i=t.length%a.specialCharList.length,l=!1,c=!1,f=!1,u=!1,g=!1,d=0;d<e.length;d++){var b=e.charAt(d),_=b.charCodeAt();if(g=!1,s>0&&(a.smallChars&&!l&&_>=97&&_<=122?(h+=b,l=!0,s--,g=!0):a.capitalChars&&!c&&_>=65&&_<=90?(h+=b,c=!0,s--,g=!0):a.numbers&&!f&&_>=48&&_<=57?(h+=b,f=!0,s--,g=!0):!a.specialChars||u||43!=_&&47!=_&&61!=_||(h+=a.specialCharList.charAt((i+d)%a.specialCharList.length),u=!0,s--,g=!0)),g||(a.smallChars&&_>=97&&_<=122?o+=b:a.capitalChars&&_>=65&&_<=90?o+=b:a.numbers&&_>=48&&_<=57?o+=b:!a.specialChars||43!=_&&47!=_&&61!=_||(o+=a.specialCharList.charAt((i+d)%a.specialCharList.length))),0==s&&h.length+o.length>=a.length)break}n((h+o).substring(0,a.length))}function a(r,t,a,s,h,o,i,l,c){if(""==r.trim())return"";var f=e(t),u=n(f),g=u+r,d=hex_sha1(g);d=d.substring(0,a);var b=g.length%(a-3)+3,_=g.length%2+2,C=u.length%l.length;if(!o){var v="";for(m=0;m<d.length;m++)v+=isNaN(d.substring(m,m+1))?d.charAt(m):String.fromCharCode(97+parseInt(d.charAt(m)));d=v}if(!s)if(h)d=d.toUpperCase();else if(o){v="";for(var m=0;m<d.length;m++)v+=d.charCodeAt(m)%10;d=v}if(h&&s){v="";for(var p=0,m=0;m<d.length;m++){var A=d.charAt(m);isNaN(A)?(v+=p%_==0?A.toUpperCase():A,p++):v+=A}d=v}if(i){v="";for(var m=0;m<d.length;m++)v+=m>0&&m%b==0?l.charAt(C*m%l.length):d.charAt(m);d=v}c(d)}function n(r){if(r&&""!==r){var t=r.split(".").reverse(),a=t.length;return a>=3?t[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?t[2]:t[1]:a>=2?t[1]:r}return r}function e(r){if(!r)return r;var t=document.createElement("a"),a=r.toLowerCase().replace("&nbsp;",""),n=a;return t.href=n,(t.host.indexOf("magic-key")>=0&&a.indexOf("magic-key")==-1||t.host.indexOf("localhost")>=0&&a.indexOf("localhost")==-1)&&(n="http://"+n,t.href=n),t.hostname}function s(){return{length:20,smallChars:!0,capitalChars:!0,numbers:!0,specialChars:!0,specialCharList:"][?/<~#`!@$%^&*()+=}|:\";',>{",baseIterations:100}}return{calculatePassword:r,calculatePasswordOld:a,getBaseUrl:n,getDomain:e,getDefaultOptions:s}}();if(!window.atob){var tableStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",table=tableStr.split("");window.atob=function(r){if(/(=[^=]+|={3,})$/.test(r))throw new Error("String contains an invalid character");r=r.replace(/=/g,"");var t=3&r.length;if(1===t)throw new Error("String contains an invalid character");for(var a=0,n=0,e=r.length/4,s=[];a<e;++a){var h=tableStr.indexOf(r[n++]||"A"),o=tableStr.indexOf(r[n++]||"A"),i=tableStr.indexOf(r[n++]||"A"),l=tableStr.indexOf(r[n++]||"A");if((h|o|i|l)<0)throw new Error("String contains an invalid character");s[s.length]=255&(h<<2|o>>4),s[s.length]=255&(o<<4|i>>2),s[s.length]=255&(i<<6|l)}return String.fromCharCode.apply(null,s).substr(0,s.length+t-4)},window.btoa=function(r){for(var t=0,a=0,n=r.length/3,e=[];t<n;++t){var s=r.charCodeAt(a++),h=r.charCodeAt(a++),o=r.charCodeAt(a++);if((s|h|o)>255)throw new Error("String contains an invalid character");e[e.length]=table[s>>2]+table[s<<4&63|h>>4]+(isNaN(h)?"=":table[h<<2&63|o>>6])+(isNaN(h+o)?"=":table[63&o])}return e.join("")}}var hexcase=0,b64pad="";
//# sourceMappingURL=page-specific-password-gen.min.js.map
