function hexToBase64(r){return btoa(String.fromCharCode.apply(null,r.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function base64ToHex(r){for(var t=0,a=atob(r.replace(/[ \r\n]+$/,"")),n=[];t<a.length;++t){var e=a.charCodeAt(t).toString(16);1===e.length&&(e="0"+e),n[n.length]=e}return n.join(" ")}function PBKDF2(r,t,a,n){var e,s,o=rstr2binb(r),h=t,i=a,l=10,c=0,f=n,u=null,g=20,b=Math.ceil(f/g),d=1,C=new Array(16),_=new Array(16),v=[0,0,0,0,0],m="",p=this,A=!1;o.length>16&&(o=binb_sha1(o,r.length*chrsz));for(var y=0;y<16;++y)C[y]=909522486^o[y],_[y]=1549556828^o[y];this.deriveKey=function(r,t){s=r,e=t,setTimeout(function(){p.do_PBKDF2_iterations()},0)},this.do_PBKDF2_iterations=function(){if(!A){var r=l;i-c<l&&(r=i-c);for(var t=0;t<r;++t){if(0==c){var a=h+String.fromCharCode(d>>24&15)+String.fromCharCode(d>>16&15)+String.fromCharCode(d>>8&15)+String.fromCharCode(15&d);u=binb_sha1(C.concat(rstr2binb(a)),512+8*a.length),u=binb_sha1(_.concat(u),672)}else u=binb_sha1(C.concat(u),512+32*u.length),u=binb_sha1(_.concat(u),672);for(var n=0;n<u.length;++n)v[n]^=u[n];c++}if(c<i)setTimeout(function(){p.do_PBKDF2_iterations()},0);else if(d<b)null!=s&&s((d-1+c/i)/b*100),m+=rstr2hex(binb2rstr(v)),d++,v=[0,0,0,0,0],c=0,setTimeout(function(){p.do_PBKDF2_iterations()},0);else{var o=rstr2hex(binb2rstr(v));m+=o.substr(0,2*(f-(b-1)*g)),e(m)}}},this.stop=function(){A=!0}}function hex_sha1(r){return rstr2hex(rstr_sha1(str2rstr_utf8(r)))}function b64_sha1(r){return rstr2b64(rstr_sha1(str2rstr_utf8(r)))}function any_sha1(r,t){return rstr2any(rstr_sha1(str2rstr_utf8(r)),t)}function hex_hmac_sha1(r,t){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function b64_hmac_sha1(r,t){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function any_hmac_sha1(r,t,a){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)),a)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(r){return binb2rstr(binb_sha1(rstr2binb(r),8*r.length))}function rstr_hmac_sha1(r,t){var a=rstr2binb(r);a.length>16&&(a=binb_sha1(a,8*r.length));for(var n=Array(16),e=Array(16),s=0;s<16;s++)n[s]=909522486^a[s],e[s]=1549556828^a[s];var o=binb_sha1(n.concat(rstr2binb(t)),512+8*t.length);return binb2rstr(binb_sha1(e.concat(o),672))}function rstr2hex(r){try{}catch(r){hexcase=0}for(var t,a=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",e=0;e<r.length;e++)t=r.charCodeAt(e),n+=a.charAt(t>>>4&15)+a.charAt(15&t);return n}function rstr2b64(r){try{}catch(r){b64pad=""}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="",n=r.length,e=0;e<n;e+=3)for(var s=r.charCodeAt(e)<<16|(e+1<n?r.charCodeAt(e+1)<<8:0)|(e+2<n?r.charCodeAt(e+2):0),o=0;o<4;o++)a+=8*e+6*o>8*r.length?b64pad:t.charAt(s>>>6*(3-o)&63);return a}function rstr2any(r,t){var a,n,e,s,o=t.length,h=Array(),i=Array(Math.ceil(r.length/2));for(a=0;a<i.length;a++)i[a]=r.charCodeAt(2*a)<<8|r.charCodeAt(2*a+1);for(;i.length>0;){for(s=Array(),e=0,a=0;a<i.length;a++)e=(e<<16)+i[a],n=Math.floor(e/o),e-=n*o,(s.length>0||n>0)&&(s[s.length]=n);h[h.length]=e,i=s}var l="";for(a=h.length-1;a>=0;a--)l+=t.charAt(h[a]);var c=Math.ceil(8*r.length/(Math.log(t.length)/Math.log(2)));for(a=l.length;a<c;a++)l=t[0]+l;return l}function str2rstr_utf8(r){for(var t,a,n="",e=-1;++e<r.length;)t=r.charCodeAt(e),a=e+1<r.length?r.charCodeAt(e+1):0,55296<=t&&t<=56319&&56320<=a&&a<=57343&&(t=65536+((1023&t)<<10)+(1023&a),e++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function str2rstr_utf16le(r){for(var t="",a=0;a<r.length;a++)t+=String.fromCharCode(255&r.charCodeAt(a),r.charCodeAt(a)>>>8&255);return t}function str2rstr_utf16be(r){for(var t="",a=0;a<r.length;a++)t+=String.fromCharCode(r.charCodeAt(a)>>>8&255,255&r.charCodeAt(a));return t}function rstr2binb(r){for(var t=Array(r.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<8*r.length;a+=8)t[a>>5]|=(255&r.charCodeAt(a/8))<<24-a%32;return t}function binb2rstr(r){for(var t="",a=0;a<32*r.length;a+=8)t+=String.fromCharCode(r[a>>5]>>>24-a%32&255);return t}function binb_sha1(r,t){r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var a=Array(80),n=1732584193,e=-271733879,s=-1732584194,o=271733878,h=-1009589776,i=0;i<r.length;i+=16){for(var l=n,c=e,f=s,u=o,g=h,b=0;b<80;b++){b<16?a[b]=r[i+b]:a[b]=bit_rol(a[b-3]^a[b-8]^a[b-14]^a[b-16],1);var d=safe_add(safe_add(bit_rol(n,5),sha1_ft(b,e,s,o)),safe_add(safe_add(h,a[b]),sha1_kt(b)));h=o,o=s,s=bit_rol(e,30),e=n,n=d}n=safe_add(n,l),e=safe_add(e,c),s=safe_add(s,f),o=safe_add(o,u),h=safe_add(h,g)}return Array(n,e,s,o,h)}function sha1_ft(r,t,a,n){return r<20?t&a|~t&n:r<40?t^a^n:r<60?t&a|t&n|a&n:t^a^n}function sha1_kt(r){return r<20?1518500249:r<40?1859775393:r<60?-1894007588:-899497514}function safe_add(r,t){var a=(65535&r)+(65535&t),n=(r>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function bit_rol(r,t){return r<<t|r>>>32-t}var mypbkdf2=null,passwordLib=function(){"use strict";function r(r,a,o){return new Promise(function(h,i){var l=s();if("undefined"!=typeof o)for(var c in o)l[c]=o[c];if(o.verbose&&console.log("calculatePassword","url:",a,"options:",l),""==r.trim())return void h("");var f=e(a),u=n(f);o.verbose&&console.log("calculatePassword, salt:",u);var g=l.baseIterations+(u.length+r.length+1);null!=mypbkdf2&&mypbkdf2.stop(),mypbkdf2=new PBKDF2(r,u,g,128);var b=function(r){t(r,u,l,h,i)};mypbkdf2.deriveKey(o.statusCallback,b)})}function t(r,t,a,n,e){var s=hexToBase64(r),o=0;a.smallChars&&o++,a.capitalChars&&o++,a.numbers&&o++,a.specialChars&&o++;for(var h="",i="",l=t.length%a.specialCharList.length,c=!1,f=!1,u=!1,g=!1,b=!1,d=0;d<s.length;d++){var C=s.charAt(d),_=C.charCodeAt();if(b=!1,o>0&&(a.smallChars&&!c&&_>=97&&_<=122?(h+=C,c=!0,o--,b=!0):a.capitalChars&&!f&&_>=65&&_<=90?(h+=C,f=!0,o--,b=!0):a.numbers&&!u&&_>=48&&_<=57?(h+=C,u=!0,o--,b=!0):!a.specialChars||g||43!=_&&47!=_&&61!=_||(h+=a.specialCharList.charAt((l+d)%a.specialCharList.length),g=!0,o--,b=!0)),b||(a.smallChars&&_>=97&&_<=122?i+=C:a.capitalChars&&_>=65&&_<=90?i+=C:a.numbers&&_>=48&&_<=57?i+=C:!a.specialChars||43!=_&&47!=_&&61!=_||(i+=a.specialCharList.charAt((l+d)%a.specialCharList.length))),0==o&&h.length+i.length>=a.length)break}n((h+i).substring(0,a.length))}function a(r,t,a,s,o,h,i,l,c){if(""==r.trim())return"";var f=e(t),u=n(f),g=u+r,b=hex_sha1(g);b=b.substring(0,a);var d=g.length%(a-3)+3,C=g.length%2+2,_=u.length%l.length;if(!h){var v="";for(m=0;m<b.length;m++)v+=isNaN(b.substring(m,m+1))?b.charAt(m):String.fromCharCode(97+parseInt(b.charAt(m)));b=v}if(!s)if(o)b=b.toUpperCase();else if(h){v="";for(var m=0;m<b.length;m++)v+=b.charCodeAt(m)%10;b=v}if(o&&s){v="";for(var p=0,m=0;m<b.length;m++){var A=b.charAt(m);isNaN(A)?(v+=p%C==0?A.toUpperCase():A,p++):v+=A}b=v}if(i){v="";for(var m=0;m<b.length;m++)v+=m>0&&m%d==0?l.charAt(_*m%l.length):b.charAt(m);b=v}c(b)}function n(r){if(r&&""!==r){var t=r.split(".").reverse(),a=t.length;return a>=3?t[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?t[2]:t[1]:a>=2?t[1]:r}return r}function e(r){if(!r)return r;var t=document.createElement("a"),a=r.toLowerCase().replace("&nbsp;",""),n=a;return t.href=n,(t.host.indexOf("magic-key")>=0&&a.indexOf("magic-key")==-1||t.host.indexOf("localhost")>=0&&a.indexOf("localhost")==-1)&&(n="http://"+n,t.href=n),t.hostname}function s(){return{length:20,smallChars:!0,capitalChars:!0,numbers:!0,specialChars:!0,specialCharList:"][?/<~#`!@$%^&*()+=}|:\";',>{",baseIterations:100,statusCallback:void 0}}return{calculatePassword:r,calculatePasswordOld:a,getBaseUrl:n,getDomain:e,getDefaultOptions:s}}();if(!window.atob){var tableStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",table=tableStr.split("");window.atob=function(r){if(/(=[^=]+|={3,})$/.test(r))throw new Error("String contains an invalid character");r=r.replace(/=/g,"");var t=3&r.length;if(1===t)throw new Error("String contains an invalid character");for(var a=0,n=0,e=r.length/4,s=[];a<e;++a){var o=tableStr.indexOf(r[n++]||"A"),h=tableStr.indexOf(r[n++]||"A"),i=tableStr.indexOf(r[n++]||"A"),l=tableStr.indexOf(r[n++]||"A");if((o|h|i|l)<0)throw new Error("String contains an invalid character");s[s.length]=255&(o<<2|h>>4),s[s.length]=255&(h<<4|i>>2),s[s.length]=255&(i<<6|l)}return String.fromCharCode.apply(null,s).substr(0,s.length+t-4)},window.btoa=function(r){for(var t=0,a=0,n=r.length/3,e=[];t<n;++t){var s=r.charCodeAt(a++),o=r.charCodeAt(a++),h=r.charCodeAt(a++);if((s|o|h)>255)throw new Error("String contains an invalid character");e[e.length]=table[s>>2]+table[s<<4&63|o>>4]+(isNaN(o)?"=":table[o<<2&63|h>>6])+(isNaN(o+h)?"=":table[63&h])}return e.join("")}}var hexcase=0,b64pad="";
//# sourceMappingURL=page-specific-password-gen.min.js.map
