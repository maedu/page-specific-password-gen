function hexToBase64(r){return btoa(String.fromCharCode.apply(null,r.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function base64ToHex(r){for(var t=0,n=atob(r.replace(/[ \r\n]+$/,"")),a=[];t<n.length;++t){var e=n.charCodeAt(t).toString(16);1===e.length&&(e="0"+e),a[a.length]=e}return a.join(" ")}function PBKDF2(r,t,n,a){var e,o,h=rstr2binb(r),i=t,s=n,f=10,c=0,l=a,u=null,g=20,d=Math.ceil(l/g),b=1,_=new Array(16),v=new Array(16),C=[0,0,0,0,0],A="",m=this,p=!1;h.length>16&&(h=binb_sha1(h,r.length*chrsz));for(var y=0;y<16;++y)_[y]=909522486^h[y],v[y]=1549556828^h[y];this.deriveKey=function(r,t){o=r,e=t,setTimeout(function(){m.do_PBKDF2_iterations()},0)},this.do_PBKDF2_iterations=function(){if(!p){var r=f;s-c<f&&(r=s-c);for(var t=0;t<r;++t){if(0==c){var n=i+String.fromCharCode(b>>24&15)+String.fromCharCode(b>>16&15)+String.fromCharCode(b>>8&15)+String.fromCharCode(15&b);u=binb_sha1(_.concat(rstr2binb(n)),512+8*n.length),u=binb_sha1(v.concat(u),672)}else u=binb_sha1(_.concat(u),512+32*u.length),u=binb_sha1(v.concat(u),672);for(var a=0;a<u.length;++a)C[a]^=u[a];c++}if(c<s)setTimeout(function(){m.do_PBKDF2_iterations()},0);else if(b<d)null!=o&&o((b-1+c/s)/d*100),A+=rstr2hex(binb2rstr(C)),b++,C=[0,0,0,0,0],c=0,setTimeout(function(){m.do_PBKDF2_iterations()},0);else{var h=rstr2hex(binb2rstr(C));A+=h.substr(0,2*(l-(d-1)*g)),e(A)}}},this.stop=function(){p=!0}}function hex_sha1(r){return rstr2hex(rstr_sha1(str2rstr_utf8(r)))}function b64_sha1(r){return rstr2b64(rstr_sha1(str2rstr_utf8(r)))}function any_sha1(r,t){return rstr2any(rstr_sha1(str2rstr_utf8(r)),t)}function hex_hmac_sha1(r,t){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function b64_hmac_sha1(r,t){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function any_hmac_sha1(r,t,n){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)),n)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(r){return binb2rstr(binb_sha1(rstr2binb(r),8*r.length))}function rstr_hmac_sha1(r,t){var n=rstr2binb(r);n.length>16&&(n=binb_sha1(n,8*r.length));for(var a=Array(16),e=Array(16),o=0;o<16;o++)a[o]=909522486^n[o],e[o]=1549556828^n[o];var h=binb_sha1(a.concat(rstr2binb(t)),512+8*t.length);return binb2rstr(binb_sha1(e.concat(h),672))}function rstr2hex(r){try{}catch(r){hexcase=0}for(var t,n=hexcase?"0123456789ABCDEF":"0123456789abcdef",a="",e=0;e<r.length;e++)t=r.charCodeAt(e),a+=n.charAt(t>>>4&15)+n.charAt(15&t);return a}function rstr2b64(r){try{}catch(r){b64pad=""}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",a=r.length,e=0;e<a;e+=3)for(var o=r.charCodeAt(e)<<16|(e+1<a?r.charCodeAt(e+1)<<8:0)|(e+2<a?r.charCodeAt(e+2):0),h=0;h<4;h++)n+=8*e+6*h>8*r.length?b64pad:t.charAt(o>>>6*(3-h)&63);return n}function rstr2any(r,t){var n,a,e,o,h=t.length,i=Array(),s=Array(Math.ceil(r.length/2));for(n=0;n<s.length;n++)s[n]=r.charCodeAt(2*n)<<8|r.charCodeAt(2*n+1);for(;s.length>0;){for(o=Array(),e=0,n=0;n<s.length;n++)e=(e<<16)+s[n],a=Math.floor(e/h),e-=a*h,(o.length>0||a>0)&&(o[o.length]=a);i[i.length]=e,s=o}var f="";for(n=i.length-1;n>=0;n--)f+=t.charAt(i[n]);var c=Math.ceil(8*r.length/(Math.log(t.length)/Math.log(2)));for(n=f.length;n<c;n++)f=t[0]+f;return f}function str2rstr_utf8(r){for(var t,n,a="",e=-1;++e<r.length;)t=r.charCodeAt(e),n=e+1<r.length?r.charCodeAt(e+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),e++),t<=127?a+=String.fromCharCode(t):t<=2047?a+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?a+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(a+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return a}function str2rstr_utf16le(r){for(var t="",n=0;n<r.length;n++)t+=String.fromCharCode(255&r.charCodeAt(n),r.charCodeAt(n)>>>8&255);return t}function str2rstr_utf16be(r){for(var t="",n=0;n<r.length;n++)t+=String.fromCharCode(r.charCodeAt(n)>>>8&255,255&r.charCodeAt(n));return t}function rstr2binb(r){for(var t=Array(r.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*r.length;n+=8)t[n>>5]|=(255&r.charCodeAt(n/8))<<24-n%32;return t}function binb2rstr(r){for(var t="",n=0;n<32*r.length;n+=8)t+=String.fromCharCode(r[n>>5]>>>24-n%32&255);return t}function binb_sha1(r,t){r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var n=Array(80),a=1732584193,e=-271733879,o=-1732584194,h=271733878,i=-1009589776,s=0;s<r.length;s+=16){for(var f=a,c=e,l=o,u=h,g=i,d=0;d<80;d++){d<16?n[d]=r[s+d]:n[d]=bit_rol(n[d-3]^n[d-8]^n[d-14]^n[d-16],1);var b=safe_add(safe_add(bit_rol(a,5),sha1_ft(d,e,o,h)),safe_add(safe_add(i,n[d]),sha1_kt(d)));i=h,h=o,o=bit_rol(e,30),e=a,a=b}a=safe_add(a,f),e=safe_add(e,c),o=safe_add(o,l),h=safe_add(h,u),i=safe_add(i,g)}return Array(a,e,o,h,i)}function sha1_ft(r,t,n,a){return r<20?t&n|~t&a:r<40?t^n^a:r<60?t&n|t&a|n&a:t^n^a}function sha1_kt(r){return r<20?1518500249:r<40?1859775393:r<60?-1894007588:-899497514}function safe_add(r,t){var n=(65535&r)+(65535&t),a=(r>>16)+(t>>16)+(n>>16);return a<<16|65535&n}function bit_rol(r,t){return r<<t|r>>>32-t}var mypbkdf2=null,passwordLib=function(){"use strict";function r(r,n,o,h,i,s,f,c,l,u,g){if(""==r.trim())return void u("");var d=e(n),b=a(d);console.log("calculatePassword, salt:",b);var _=g+(b.length+r.length+1);null!=mypbkdf2&&mypbkdf2.stop(),mypbkdf2=new PBKDF2(r,b,_,128);var v=function(r){t(r,o,b,h,i,s,f,c,u)};mypbkdf2.deriveKey(l,v)}function t(r,t,n,a,e,o,h,i,s){var f=hexToBase64(r),c=0;a&&c++,e&&c++,o&&c++,h&&c++;for(var l="",u="",g=n.length%i.length,d=!1,b=!1,_=!1,v=!1,C=!1,A=0;A<f.length;A++){var m=f.charAt(A),p=m.charCodeAt();if(C=!1,c>0&&(a&&!d&&p>=97&&p<=122?(l+=m,d=!0,c--,C=!0):e&&!b&&p>=65&&p<=90?(l+=m,b=!0,c--,C=!0):o&&!_&&p>=48&&p<=57?(l+=m,_=!0,c--,C=!0):!h||v||43!=p&&47!=p&&61!=p||(l+=i.charAt((g+A)%i.length),v=!0,c--,C=!0)),C||(a&&p>=97&&p<=122?u+=m:e&&p>=65&&p<=90?u+=m:o&&p>=48&&p<=57?u+=m:!h||43!=p&&47!=p&&61!=p||(u+=i.charAt((g+A)%i.length))),0==c&&l.length+u.length>=t)break}s(l+u.substring(0,t-l.length))}function n(r,t,n,o,h,i,s,f,c){if(""==r.trim())return"";var l=e(t),u=a(l),g=u+r,d=hex_sha1(g);d=d.substring(0,n);var b=g.length%(n-3)+3,_=g.length%2+2,v=u.length%f.length;if(!i){var C="";for(A=0;A<d.length;A++)C+=isNaN(d.substring(A,A+1))?d.charAt(A):String.fromCharCode(97+parseInt(d.charAt(A)));d=C}if(!o)if(h)d=d.toUpperCase();else if(i){C="";for(var A=0;A<d.length;A++)C+=d.charCodeAt(A)%10;d=C}if(h&&o){C="";for(var m=0,A=0;A<d.length;A++){var p=d.charAt(A);isNaN(p)?(C+=m%_==0?p.toUpperCase():p,m++):C+=p}d=C}if(s){C="";for(var A=0;A<d.length;A++)C+=A>0&&A%b==0?f.charAt(v*A%f.length):d.charAt(A);d=C}c(d)}function a(r){if(""!==r){var t=r.split(".").reverse(),n=t.length;return n>=3?t[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?t[2]:t[1]:n>=2?t[1]:r}return""}function e(r){var t=document.createElement("a"),n=r.toLowerCase().replace("&nbsp;",""),a=n;return t.href=a,(t.host.indexOf("magic-key")>=0&&n.indexOf("magic-key")==-1||t.host.indexOf("localhost")>=0&&n.indexOf("localhost")==-1)&&(a="http://"+a,t.href=a),t.hostname}return{calculatePassword:r,calculatePasswordOld:n,getBaseUrl:a,getDomain:e}}();if(!window.atob){var tableStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",table=tableStr.split("");window.atob=function(r){if(/(=[^=]+|={3,})$/.test(r))throw new Error("String contains an invalid character");r=r.replace(/=/g,"");var t=3&r.length;if(1===t)throw new Error("String contains an invalid character");for(var n=0,a=0,e=r.length/4,o=[];n<e;++n){var h=tableStr.indexOf(r[a++]||"A"),i=tableStr.indexOf(r[a++]||"A"),s=tableStr.indexOf(r[a++]||"A"),f=tableStr.indexOf(r[a++]||"A");if((h|i|s|f)<0)throw new Error("String contains an invalid character");o[o.length]=255&(h<<2|i>>4),o[o.length]=255&(i<<4|s>>2),o[o.length]=255&(s<<6|f)}return String.fromCharCode.apply(null,o).substr(0,o.length+t-4)},window.btoa=function(r){for(var t=0,n=0,a=r.length/3,e=[];t<a;++t){var o=r.charCodeAt(n++),h=r.charCodeAt(n++),i=r.charCodeAt(n++);if((o|h|i)>255)throw new Error("String contains an invalid character");e[e.length]=table[o>>2]+table[o<<4&63|h>>4]+(isNaN(h)?"=":table[h<<2&63|i>>6])+(isNaN(h+i)?"=":table[63&i])}return e.join("")}}var hexcase=0,b64pad="";
//# sourceMappingURL=page-specific-password-gen.min.js.map
