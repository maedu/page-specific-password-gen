function hexToBase64(r){return btoa(String.fromCharCode.apply(null,r.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function base64ToHex(r){for(var t=0,a=atob(r.replace(/[ \r\n]+$/,"")),e=[];t<a.length;++t){var n=a.charCodeAt(t).toString(16);1===n.length&&(n="0"+n),e[e.length]=n}return e.join(" ")}function PBKDF2(r,t,a,e){var n,s,o=rstr2binb(r),i=t,h=a,l=10,c=0,f=e,u=null,g=20,d=Math.ceil(f/g),b=1,_=new Array(16),v=new Array(16),C=[0,0,0,0,0],m="",p=this,A=!1;o.length>16&&(o=binb_sha1(o,r.length*chrsz));for(var y=0;y<16;++y)_[y]=909522486^o[y],v[y]=1549556828^o[y];this.deriveKey=function(r,t){s=r,n=t,setTimeout(function(){p.do_PBKDF2_iterations()},0)},this.do_PBKDF2_iterations=function(){if(!A){var r=l;h-c<l&&(r=h-c);for(var t=0;t<r;++t){if(0==c){var a=i+String.fromCharCode(b>>24&15)+String.fromCharCode(b>>16&15)+String.fromCharCode(b>>8&15)+String.fromCharCode(15&b);u=binb_sha1(_.concat(rstr2binb(a)),512+8*a.length),u=binb_sha1(v.concat(u),672)}else u=binb_sha1(_.concat(u),512+32*u.length),u=binb_sha1(v.concat(u),672);for(var e=0;e<u.length;++e)C[e]^=u[e];c++}if(c<h)setTimeout(function(){p.do_PBKDF2_iterations()},0);else if(b<d)null!=s&&s((b-1+c/h)/d*100),m+=rstr2hex(binb2rstr(C)),b++,C=[0,0,0,0,0],c=0,setTimeout(function(){p.do_PBKDF2_iterations()},0);else{var o=rstr2hex(binb2rstr(C));m+=o.substr(0,2*(f-(d-1)*g)),n(m)}}},this.stop=function(){A=!0}}function hex_sha1(r){return rstr2hex(rstr_sha1(str2rstr_utf8(r)))}function b64_sha1(r){return rstr2b64(rstr_sha1(str2rstr_utf8(r)))}function any_sha1(r,t){return rstr2any(rstr_sha1(str2rstr_utf8(r)),t)}function hex_hmac_sha1(r,t){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function b64_hmac_sha1(r,t){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)))}function any_hmac_sha1(r,t,a){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(r),str2rstr_utf8(t)),a)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(r){return binb2rstr(binb_sha1(rstr2binb(r),8*r.length))}function rstr_hmac_sha1(r,t){var a=rstr2binb(r);a.length>16&&(a=binb_sha1(a,8*r.length));for(var e=Array(16),n=Array(16),s=0;s<16;s++)e[s]=909522486^a[s],n[s]=1549556828^a[s];var o=binb_sha1(e.concat(rstr2binb(t)),512+8*t.length);return binb2rstr(binb_sha1(n.concat(o),672))}function rstr2hex(r){try{}catch(r){hexcase=0}for(var t,a=hexcase?"0123456789ABCDEF":"0123456789abcdef",e="",n=0;n<r.length;n++)t=r.charCodeAt(n),e+=a.charAt(t>>>4&15)+a.charAt(15&t);return e}function rstr2b64(r){try{}catch(r){b64pad=""}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="",e=r.length,n=0;n<e;n+=3)for(var s=r.charCodeAt(n)<<16|(n+1<e?r.charCodeAt(n+1)<<8:0)|(n+2<e?r.charCodeAt(n+2):0),o=0;o<4;o++)a+=8*n+6*o>8*r.length?b64pad:t.charAt(s>>>6*(3-o)&63);return a}function rstr2any(r,t){var a,e,n,s,o=t.length,i=Array(),h=Array(Math.ceil(r.length/2));for(a=0;a<h.length;a++)h[a]=r.charCodeAt(2*a)<<8|r.charCodeAt(2*a+1);for(;h.length>0;){for(s=Array(),n=0,a=0;a<h.length;a++)n=(n<<16)+h[a],e=Math.floor(n/o),n-=e*o,(s.length>0||e>0)&&(s[s.length]=e);i[i.length]=n,h=s}var l="";for(a=i.length-1;a>=0;a--)l+=t.charAt(i[a]);var c=Math.ceil(8*r.length/(Math.log(t.length)/Math.log(2)));for(a=l.length;a<c;a++)l=t[0]+l;return l}function str2rstr_utf8(r){for(var t,a,e="",n=-1;++n<r.length;)t=r.charCodeAt(n),a=n+1<r.length?r.charCodeAt(n+1):0,55296<=t&&t<=56319&&56320<=a&&a<=57343&&(t=65536+((1023&t)<<10)+(1023&a),n++),t<=127?e+=String.fromCharCode(t):t<=2047?e+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?e+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(e+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return e}function str2rstr_utf16le(r){for(var t="",a=0;a<r.length;a++)t+=String.fromCharCode(255&r.charCodeAt(a),r.charCodeAt(a)>>>8&255);return t}function str2rstr_utf16be(r){for(var t="",a=0;a<r.length;a++)t+=String.fromCharCode(r.charCodeAt(a)>>>8&255,255&r.charCodeAt(a));return t}function rstr2binb(r){for(var t=Array(r.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<8*r.length;a+=8)t[a>>5]|=(255&r.charCodeAt(a/8))<<24-a%32;return t}function binb2rstr(r){for(var t="",a=0;a<32*r.length;a+=8)t+=String.fromCharCode(r[a>>5]>>>24-a%32&255);return t}function binb_sha1(r,t){r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var a=Array(80),e=1732584193,n=-271733879,s=-1732584194,o=271733878,i=-1009589776,h=0;h<r.length;h+=16){for(var l=e,c=n,f=s,u=o,g=i,d=0;d<80;d++){d<16?a[d]=r[h+d]:a[d]=bit_rol(a[d-3]^a[d-8]^a[d-14]^a[d-16],1);var b=safe_add(safe_add(bit_rol(e,5),sha1_ft(d,n,s,o)),safe_add(safe_add(i,a[d]),sha1_kt(d)));i=o,o=s,s=bit_rol(n,30),n=e,e=b}e=safe_add(e,l),n=safe_add(n,c),s=safe_add(s,f),o=safe_add(o,u),i=safe_add(i,g)}return Array(e,n,s,o,i)}function sha1_ft(r,t,a,e){return r<20?t&a|~t&e:r<40?t^a^e:r<60?t&a|t&e|a&e:t^a^e}function sha1_kt(r){return r<20?1518500249:r<40?1859775393:r<60?-1894007588:-899497514}function safe_add(r,t){var a=(65535&r)+(65535&t),e=(r>>16)+(t>>16)+(a>>16);return e<<16|65535&a}function bit_rol(r,t){return r<<t|r>>>32-t}var mypbkdf2=null,passwordLib=function(){"use strict";function r(r,a,o){return new Promise(function(i,h){var l=s();if("undefined"!=typeof o)for(var c in o)l[c]=o[c];if(o.verbose&&console.log("calculatePassword","url:",a,"options:",l),""==r.trim())return void i("");var f=n(a),u=e(f);o.verbose&&console.log("calculatePassword, salt:",u);var g=l.iterations+(u.length+r.length+1);null!=mypbkdf2&&mypbkdf2.stop(),mypbkdf2=new PBKDF2(r,u,g,128);var d=function(r){t(r,u,l,i,h)};mypbkdf2.deriveKey(o.statusCallback,d)})}function t(r,t,a,e,n){var s=hexToBase64(r),o=0;a.smallLetters&&o++,a.capitalLetters&&o++,a.numbers&&o++,a.specialChars&&o++;for(var i="",h="",l=t.length%a.specialCharList.length,c=!1,f=!1,u=!1,g=!1,d=!1,b=0;b<s.length;b++){var _=s.charAt(b),v=_.charCodeAt();if(d=!1,o>0&&(a.smallLetters&&!c&&v>=97&&v<=122?(i+=_,c=!0,o--,d=!0):a.capitalLetters&&!f&&v>=65&&v<=90?(i+=_,f=!0,o--,d=!0):a.numbers&&!u&&v>=48&&v<=57?(i+=_,u=!0,o--,d=!0):!a.specialChars||g||43!=v&&47!=v&&61!=v||(i+=a.specialCharList.charAt((l+b)%a.specialCharList.length),g=!0,o--,d=!0)),d||(a.smallLetters&&v>=97&&v<=122?h+=_:a.capitalLetters&&v>=65&&v<=90?h+=_:a.numbers&&v>=48&&v<=57?h+=_:!a.specialChars||43!=v&&47!=v&&61!=v||(h+=a.specialCharList.charAt((l+b)%a.specialCharList.length))),0==o&&i.length+h.length>=a.length)break}e((i+h).substring(0,a.length))}function a(r,t,a,s,o,i,h,l,c){if(""==r.trim())return"";var f=n(t),u=e(f),g=u+r,d=hex_sha1(g);d=d.substring(0,a);var b=g.length%(a-3)+3,_=g.length%2+2,v=u.length%l.length;if(!i){var C="";for(m=0;m<d.length;m++)C+=isNaN(d.substring(m,m+1))?d.charAt(m):String.fromCharCode(97+parseInt(d.charAt(m)));d=C}if(!s)if(o)d=d.toUpperCase();else if(i){C="";for(var m=0;m<d.length;m++)C+=d.charCodeAt(m)%10;d=C}if(o&&s){C="";for(var p=0,m=0;m<d.length;m++){var A=d.charAt(m);isNaN(A)?(C+=p%_==0?A.toUpperCase():A,p++):C+=A}d=C}if(h){C="";for(var m=0;m<d.length;m++)C+=m>0&&m%b==0?l.charAt(v*m%l.length):d.charAt(m);d=C}c(d)}function e(r){if(r&&""!==r){var t=r.split(".").reverse(),a=t.length;return a>=3?t[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?t[2]:t[1]:a>=2?t[1]:r}return r}function n(r){if(!r)return r;var t=document.createElement("a"),a=r.toLowerCase().replace("&nbsp;",""),e=a;return t.href=e,(t.host.indexOf("magic-key")>=0&&a.indexOf("magic-key")==-1||t.host.indexOf("localhost")>=0&&a.indexOf("localhost")==-1)&&(e="http://"+e,t.href=e),t.hostname}function s(){return{length:20,smallLetters:!0,capitalLetters:!0,numbers:!0,specialChars:!0,specialCharList:"][?/<~#`!@$%^&*()+=}|:\";',>{",iterations:100,statusCallback:void 0}}return{calculatePassword:r,calculatePasswordOld:a,getBaseUrl:e,getDomain:n,getDefaultOptions:s}}();if(!window.atob){var tableStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",table=tableStr.split("");window.atob=function(r){if(/(=[^=]+|={3,})$/.test(r))throw new Error("String contains an invalid character");r=r.replace(/=/g,"");var t=3&r.length;if(1===t)throw new Error("String contains an invalid character");for(var a=0,e=0,n=r.length/4,s=[];a<n;++a){var o=tableStr.indexOf(r[e++]||"A"),i=tableStr.indexOf(r[e++]||"A"),h=tableStr.indexOf(r[e++]||"A"),l=tableStr.indexOf(r[e++]||"A");if((o|i|h|l)<0)throw new Error("String contains an invalid character");s[s.length]=255&(o<<2|i>>4),s[s.length]=255&(i<<4|h>>2),s[s.length]=255&(h<<6|l)}return String.fromCharCode.apply(null,s).substr(0,s.length+t-4)},window.btoa=function(r){for(var t=0,a=0,e=r.length/3,n=[];t<e;++t){var s=r.charCodeAt(a++),o=r.charCodeAt(a++),i=r.charCodeAt(a++);if((s|o|i)>255)throw new Error("String contains an invalid character");n[n.length]=table[s>>2]+table[s<<4&63|o>>4]+(isNaN(o)?"=":table[o<<2&63|i>>6])+(isNaN(o+i)?"=":table[63&i])}return n.join("")}}var hexcase=0,b64pad="";
//# sourceMappingURL=page-specific-password-gen.min.js.map
